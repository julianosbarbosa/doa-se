<!--foto controller é do cadastro de foto-->
<div class="page-header text-center">
    <h1>Doa-se {{foto.titulo}}</h1> <!--angular expression ="foto.titulo" exibe titulo q busca na controler-->
</div>

<p ng-show="mensagem.length" class="alert alert-info">{{mensagem}}</p><!--mensagem.length que ta definida em foto controler for maior q zero é verdadeiro e exibe a menssagem-->

<form novalidate name="formulario" class="row" ng-submit="submeter()"><!-- quanos o usuario clicar en enviar chama a função submit-->
    <div class="col-md-6">
        <div class="form-group">
            <label>Título</label>
            <input name="titulo" class="form-control" ng-model="foto.titulo" required> <!--ng-model="foto.titulo" grava envia titulo para a controler.....novalidate  para desabilitar  a validaçao do html5 e usar a do angular-->

            <span ng-show="formulario.$submitted && formulario.titulo.$error.required" class="form-control alert-danger"><!--ng-show mostra a mesnsagem de erro se formulario.titulo.$error.required nao for <preenchido></preenchido>.........formulario.$submitted para a menssagem de erro aparecer somente depois de clicar em submit-->
				Título obrigatório
			</span>
            <span ng-show="formulario.$submitted && formulario.titulo.$error.maxlength" class="form-control alert-danger">
				No máximo 20 caracteres!
			</span>
        </div>
        <div class="form-group">
            <label>URL</label>
            <input name="url" class="form-control" ng-model="foto.url" required>

            <span ng-show="formulario.$submitted && formulario.url.$error.required" class="form-control alert-danger">
				URL obrigatória
			</span>
        </div>
        <div class="form-group">
            <label>Descrição</label>
            <textarea name="descricao" class="form-control" ng-model="foto.descricao">
			</textarea>
        </div>

        <div class="form-group">
            <label>Grupo</label>
            <select name="grupo" ng-model="foto.grupo" class="form-control" required 
                    ng-controller="GruposController" 
                    ng-options="grupo._id as (grupo.nome | uppercase) for grupo in grupos"> <!--ng-controller="GruposController" chama o controller GruposController que fornece informações para o scopo das variaveis-->
				<option value="">Escolha um grupo</option>
			</select>
            <span ng-show="formulario.$submitted && formulario.grupo.$error.required" class="form-control alert-danger">
				Grupo obrigatório
			</span>
        </div>

        <button type="submit" class="btn btn-primary" ng-disabled="formulario.$invalid">
			Salvar
		</button><!-- ng-disabled="formulario.$invalid" desabilita o botao salvar enquanto o formulario não for valido-->
        <a href="/#/fotos" class="btn btn-primary">Voltar</a>
        <hr>
    </div>
    <div class="col-md-6">
        <minha-foto url="{{foto.url}}" titulo="{{foto.titulo}}"></minha-foto> <!-- diretiva  que carrega imagen da foto-->
    </div>
</form>